## -*- mode: makefile -*-

## 
## This file is part of the Score-P software (http://www.score-p.org)
##
## Copyright (c) 2009-2011,
## RWTH Aachen University, Germany
##
## Copyright (c) 2009-2011,
## Gesellschaft fuer numerische Simulation mbH Braunschweig, Germany
##
## Copyright (c) 2009-2011,
## Technische Universitaet Dresden, Germany
##
## Copyright (c) 2009-2011,
## University of Oregon, Eugene, USA
##
## Copyright (c) 2009-2013,
## Forschungszentrum Juelich GmbH, Germany
##
## Copyright (c) 2009-2011,
## German Research School for Simulation Sciences GmbH, Juelich/Aachen, Germany
##
## Copyright (c) 2009-2011,
## Technische Universitaet Muenchen, Germany
##
## This software may be modified and distributed under the terms of
## a BSD-style license.  See the COPYING file in the package base
## directory for details.
##

## file       test/unification/Makefile.inc.am


check_PROGRAMS              += unification_test
unification_test_SOURCES =  $(SRC_ROOT)test/unification/unification_test.c \
                            $(SRC_ROOT)vendor/common/cutest/CuTest.c       \
                            $(SRC_ROOT)vendor/common/cutest/CuTest.h
unification_test_CPPFLAGS = $(AM_CPPFLAGS)                       \
                            -I$(PUBLIC_INC_DIR)                  \
                            -I$(INC_ROOT)src/measurement/include \
                            -I$(INC_ROOT)src/measurement         \
                            -I$(INC_DIR_COMMON_HASH)             \
                            -I$(INC_DIR_COMMON_CUTEST)           \
                            $(UTILS_CPPFLAGS)
unification_test_LDADD    =                               \
    $(LIB_ROOT)libscorep_measurement.la                   \
    $(LIB_ROOT)libscorep_adapter_compiler_mgmt_mockup.la  \
    $(LIB_ROOT)libscorep_adapter_user_mgmt_mockup.la      \
    $(LIB_ROOT)libscorep_adapter_pomp_omp_mgmt_mockup.la  \
    $(LIB_ROOT)libscorep_adapter_pomp_user_mgmt_mockup.la \
    $(LIB_ROOT)libscorep_adapter_mpi_mgmt_mockup.la       \
    $(LIB_ROOT)libscorep_adapter_cuda_mgmt_mockup.la      \
    $(LIB_ROOT)libscorep_thread_mockup.la                 \
    $(LIB_ROOT)libscorep_mutex_mockup.la                  \
    $(LIB_ROOT)libscorep_mpp_mockup.la                    \
    $(LIB_ROOT)libscorep_sion_mockup.la                   \
    $(LIB_ROOT)libscorep_online_access_spp.la

unification_test_LDFLAGS  = @SCOREP_PAPI_LDFLAGS@ @CUDA_LDFLAGS@

TESTS_SERIAL += unification_test
