if HAVE_ONLINE_ACCESS

check_PROGRAMS += oa_f_test

oa_f_test_SOURCES =                                       \
	$(SRC_ROOT)test/OA/serial/Fortran/oa_test.F90

oa_f_test_CPPFLAGS = @COMPILER_INSTRUMENTATION_CPPFLAGS@\
    -I../include                            \
    -I$(INC_ROOT)src/adapters/include       \
    $(UTILS_CPPFLAGS)

if SCOREP_COMPILER_IBM
oa_f_test_CPPFLAGS += -WF,-DSCOREP_USER_ENABLE=1
else
oa_f_test_CPPFLAGS += -DSCOREP_USER_ENABLE=1
endif

if SCOREP_COMPILER_PGI
oa_f_test_CPPFLAGS += -DSCOREP_COMPILER_PGI=1 
endif

oa_f_test_LDADD =                        \
    $(LIB_ROOT)libscorep_serial.la

oa_f_test_LDFLAGS = @SCOREP_PAPI_LDFLAGS@ @CUDA_LDFLAGS@ @COMPILER_INSTRUMENTATION_LDFLAGS@

EXTRA_DIST       += \
    $(SRC_ROOT)test/OA/serial/Fortran/run_oa_f_test.sh.in

TESTS_SERIAL += ./../test/OA/serial/Fortran/run_oa_f_test.sh

endif #if HAVE_ONLINE_ACCESS
